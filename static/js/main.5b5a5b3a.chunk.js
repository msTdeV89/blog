(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n(2),c=n.n(s),r=n(33),i=n.n(r),o=(n(87),n(22)),l=n(7),u="HANDLE_MENU",j="CLOSE_MENU",b="HANDLE_THEME",p="HANDLE_POPUP",h="LOGIN",m="LOGOUT",d="USER_STATUS_CHANGED",O="POSTS_GET",g=function(){return{type:u}},f=function(){return{type:j}},x=function(){return{type:p}},v=n(26),_=Object(l.b)(null,{handleMenu:g})((function(e){var t=e.name,n=e.link,s=e.icon,c=e.handleMenu,r=e.menu,i=e.func;return Object(a.jsx)("li",{className:"navitem",onClick:function(){r&&c(),i&&i()},children:r?Object(a.jsxs)(v.b,{to:n,children:[Object(a.jsx)("span",{children:t}),s||""]}):Object(a.jsxs)("a",{href:n,rel:"noreferrer",target:"_blank",children:[Object(a.jsx)("span",{children:t}),s||""]})})})),N=n(67),I=n.n(N),y=n(65),k=n.n(y),L=n(66),w=n.n(L),P=n(68),S=n.n(P),D=n(61),T=n.n(D),E=n(39);E.a.initializeApp({apiKey:"AIzaSyANzmHwEzB8cayASgFW4-LUTUHenBkpp74",authDomain:"blog-f3373.firebaseapp.com",projectId:"blog-f3373",storageBucket:"blog-f3373.appspot.com",messagingSenderId:"916037085361",appId:"1:916037085361:web:cbd94500c1d159c00c9a90",measurementId:"G-KDT1PZFFWX"}),E.a.analytics();var C=E.a.auth(),U=E.a.firestore(),M=(E.a,n(23)),A=n.n(M),G=n(31),z=Object(l.b)((function(e){return{menuIsOpen:e.global.menuIsOpen,themeIsLight:e.global.themeIsLight,user:e.user.user}}),{handleMenu:g,handleLogout:function(){return{type:m}}})((function(e){var t=e.menuIsOpen,n=e.themeIsLight,s=e.handleLogout,c=e.user;return Object(a.jsx)("nav",{className:"sidenav ".concat(t?" sidenav--isOpen":""," ").concat(n?"":"sidenav--isDark"),children:Object(a.jsxs)("ul",{className:"sidenav__list",children:[Object(a.jsx)(_,{name:"Home",link:"/blog",icon:Object(a.jsx)(T.a,{}),menu:!0}),Object(a.jsx)(_,{name:"Portfolio",link:"https://mstdev89.github.io/portfolio/",icon:Object(a.jsx)(k.a,{})}),Object(a.jsx)(_,{name:"Contact",link:"/blog/contact",icon:Object(a.jsx)(w.a,{}),menu:!0}),Object(a.jsx)(_,{name:"Admin",link:"/blog/admin",icon:Object(a.jsx)(I.a,{}),menu:!0}),c?Object(a.jsx)(_,{name:"Logout",link:"/blog",icon:Object(a.jsx)(S.a,{}),menu:!0,func:function(){C.signOut().catch((function(e){return console.log(e.message)})),s(),sessionStorage.removeItem("user")}}):null]})})})),q=n.p+"static/media/logoWhite.eac2b019.svg",B=n.p+"static/media/logoBlack.2a7653ee.svg",H=n(122),F=n(123),J=n(120),W=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight,menuIsOpen:e.global.menuIsOpen}}),{handleMenu:g,handleTheme:function(){return{type:b}},handleCloseMenu:f})((function(e){var t=e.handleMenu,n=e.themeIsLight,c=e.handleTheme,r=e.menuIsOpen,i=e.handleCloseMenu,l=Object(s.useState)(!1),u=Object(o.a)(l,2),j=u[0],b=u[1],p=Object(J.a)({switchBase:{color:"#111111","&$checked":{color:"#ffffff"}}})(H.a);return Object(a.jsxs)("header",{className:"menu ".concat(r?"menu--isOpen":""," ").concat(n?"":"menu--isDark"),children:[Object(a.jsxs)("div",{className:"menu__container",children:[Object(a.jsx)("div",{className:"menu__left",children:Object(a.jsxs)(v.b,{to:"/blog",onClick:i,children:[Object(a.jsx)("img",{src:n?q:B,alt:"logo mst"}),Object(a.jsxs)("h3",{children:["ms",Object(a.jsx)("span",{children:"T"})]})]})}),Object(a.jsxs)("div",{className:"menu__right",children:[Object(a.jsx)(F.a,{label:"".concat(n?"Dark":"Light"),control:Object(a.jsx)(p,{checked:j,className:"menu__switch",onChange:function(e){c(),b(e.target.checked)}})}),Object(a.jsx)("div",{className:"menu__bars",onClick:t,children:["menu__barTop","menu__barMid","menu__barBot"].map((function(e){return Object(a.jsx)("div",{className:"menu__bar ".concat(e," ").concat(n?"":"menu__bar--isDark")},e)}))})]})]}),Object(a.jsx)(z,{})]})})),R=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight}}),null)((function(e){var t=e.themeIsLight;return Object(a.jsx)("div",{className:"section hero ".concat(t?"":"section--isDark"),children:Object(a.jsxs)("div",{className:"hero__container",children:[Object(a.jsx)("h1",{className:"hero__title",children:"Blog"}),Object(a.jsx)("p",{children:"Blog about everything, and nothing."})]})})})),K=n(14),V=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight,posts:e.posts.posts}}),{handleCloseMenu:f})((function(e){var t=e.id,n=e.image,s=e.title,c=e.date,r=e.author,i=e.source,o=e.avatar,l=e.intro,u=e.tags,j=e.themeIsLight,b=e.handleCloseMenu,p=Object(K.f)();return Object(a.jsxs)("div",{className:"post ".concat(j?"":"post--isDark"),onClick:function(){b(),p.push("/blog/post/".concat(t))},children:[Object(a.jsxs)("div",{className:"post__image",children:[Object(a.jsx)("img",{src:n,alt:"screenshot"}),Object(a.jsx)("p",{className:"post__source",children:i})]}),Object(a.jsx)("div",{className:"post__title",children:Object(a.jsx)("h4",{children:s})}),Object(a.jsxs)("div",{className:"post__author",children:[Object(a.jsx)("div",{className:"post__authorLeft",children:Object(a.jsx)("img",{src:"".concat(o),alt:"user avatar"})}),Object(a.jsxs)("div",{className:"post__authorRight",children:[Object(a.jsx)("p",{children:r}),Object(a.jsx)("p",{className:"post__date",children:c})]})]}),Object(a.jsx)("div",{className:"post__intro",children:Object(a.jsx)("p",{children:l})}),Object(a.jsx)("div",{className:"post__tags",children:u.map((function(e){return Object(a.jsx)("div",{className:"post__tag ".concat(j?"":"post__tag--isDark"),children:Object(a.jsx)("p",{children:e})},e+Math.floor(9403284023*Math.random()))}))})]})})),$=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight}}))((function(e){var t=e.posts;return Object(a.jsx)("main",{className:"section posts",children:t.sort((function(e,t){var n=new Date(e.date);return new Date(t.date)-n})).map((function(e){var t=e.id,n=e.image,s=e.title,c=e.date,r=e.author,i=e.avatar,o=e.intro,l=e.content,u=e.tags;return Object(a.jsx)(V,{id:t,image:n,title:s,date:c,author:r,avatar:i,intro:o,content:l,tags:u},t)}))})})),X=Object(l.b)((function(e){return{posts:e.posts.posts}}),null)((function(e){var t=e.posts;return Object(a.jsxs)("div",{className:"homePage",children:[Object(a.jsx)(R,{}),Object(a.jsx)($,{posts:t})]})})),Z=n(119),Q=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight}}))((function(e){var t=e.label,n=e.func,s=e.name,c=e.value,r=e.type,i=e.themeIsLight,o=e.err;e.required;return Object(a.jsxs)("div",{className:"inputGroup",children:[Object(a.jsx)("label",{htmlFor:s,className:"label",children:s}),Object(a.jsx)("input",{required:!0,onChange:n,name:s,value:c,variant:"outlined",color:"primary",label:t,type:r,className:"input ".concat(i?"":"input--isDark")}),o?Object(a.jsx)("p",{className:"error",children:o}):""]})})),Y=n.p+"static/media/avatar.c88d2a0a.svg",ee=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight}}),{handleAddPost:function(e){return{type:"POST_ADD",payload:e}}})((function(e){var t=e.handleAddPost,n=e.themeIsLight,c=Object(K.f)(),r=Object(s.useState)(""),i=Object(o.a)(r,2),l=i[0],u=i[1],j=Object(s.useState)(""),b=Object(o.a)(j,2),p=b[0],h=b[1],m=Object(s.useState)(""),d=Object(o.a)(m,2),O=d[0],g=d[1],f=Object(s.useState)(""),x=Object(o.a)(f,2),v=x[0],_=x[1],N=Object(s.useState)(""),I=Object(o.a)(N,2),y=I[0],k=I[1],L=Object(s.useState)(""),w=Object(o.a)(L,2),P=w[0],S=w[1],D=function(e){var t=e.target,n=t.value,a=t.name;"img"===a&&u(n),"source"===a&&h(n),"title"===a&&g(n),"intro"===a&&_(n),"tags"===a&&k(n),"content"===a&&S(n)},T=function(){var e=Object(G.a)(A.a.mark((function e(n){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={title:O,intro:v,source:p,tags:y,image:l,content:P,date:(new Date).toLocaleString(),author:"msT"},e.next=4,U.collection("posts").add(a);case 4:t(a),u(""),h(""),g(""),_(""),k(""),S(""),c.push("/blog");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:"adminPage__form",onSubmit:function(e){return T(e)},children:[Object(a.jsx)("h3",{children:"Panel"}),Object(a.jsx)(Q,{required:!0,label:"Image",value:l,name:"img",type:"text",func:function(e){return D(e)}}),Object(a.jsx)(Q,{required:!0,label:"Image Source",value:p,name:"source",type:"text",func:function(e){return D(e)}}),Object(a.jsx)(Q,{required:!0,label:"Title",value:O,name:"title",type:"text",func:function(e){return D(e)}}),Object(a.jsx)(Q,{required:!0,label:"Intro",value:v,name:"intro",type:"text",func:function(e){return D(e)}}),Object(a.jsx)(Q,{required:!0,label:"Tags",value:y,name:"tags",type:"text",func:function(e){return D(e)}}),Object(a.jsxs)("div",{className:"inputGroup",children:[Object(a.jsx)("label",{htmlFor:"message",className:"label",children:"Message"}),Object(a.jsx)("textarea",{required:!0,rows:8,value:P,name:"content",onChange:function(e){return D(e)},className:"input ".concat(n?"":"input--isDark")})]}),Object(a.jsx)(Z.a,{variant:"contained",color:"primary",size:"large",type:"submit",className:"btn",children:"Add Post"})]})})),te=Object(l.b)(null,{handleLogin:function(e){return function(){var t=Object(G.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:h,payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.handleLogin,n=Object(s.useState)(""),c=Object(o.a)(n,2),r=c[0],i=c[1],l=Object(s.useState)(""),u=Object(o.a)(l,2),j=u[0],b=u[1],p=Object(s.useState)(""),h=Object(o.a)(p,2),m=h[0],d=h[1],O=Object(s.useState)(""),g=Object(o.a)(O,2),f=g[0],x=g[1],v=function(e){var t=e.target,n=t.value,a=t.name;"email"===a&&i(n),"password"===a&&b(n)};Object(s.useEffect)((function(){setTimeout((function(){return d("")}),3e3)}),[m]),Object(s.useEffect)((function(){setTimeout((function(){return x("")}),3e3)}),[f]);var _=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)};return Object(a.jsxs)("form",{className:"adminPage__form",onSubmit:function(){var e=Object(G.a)(A.a.mark((function e(n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log(_(r)),!r||!j){e.next=5;break}return e.next=5,C.signInWithEmailAndPassword(r,j).then((function(e){var n=e.user.uid;i(""),b(""),sessionStorage.setItem("user",JSON.stringify(n)),t(n)})).catch((function(e){"auth/invalid-email"===e.code||"auth/user-not-found"===e.code?d(e.message):"auth/wrong-password"===e.code&&x(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(a.jsx)("h3",{children:"Login"}),Object(a.jsx)(Q,{label:"Email",value:r,name:"email",type:"text",err:m,func:function(e){return v(e)}}),Object(a.jsx)(Q,{label:"Password",value:j,name:"password",type:"password",err:f,func:function(e){return v(e)}}),Object(a.jsx)(Z.a,{variant:"contained",color:"primary",size:"large",type:"submit",children:"To The Panel"})]})})),ne=function(e){var t=e.themeIsLight,n=e.user;return Object(a.jsx)("div",{className:"".concat(t?"page":"page page--isDark"," adminPage"),children:n?Object(a.jsx)(ee,{}):Object(a.jsx)(te,{})})},ae=n(69),se=n.n(ae),ce=n(70),re=n.n(ce),ie=n(71),oe=n.n(ie),le=function(){return Object(a.jsx)("div",{className:"page contactPage",children:Object(a.jsx)("div",{className:"contactPage__socials",children:Object(a.jsxs)("ul",{className:"contactPage__list",children:[Object(a.jsx)(_,{name:"Facebook",link:"https://www.facebook.com/robert.lucius.355/",icon:Object(a.jsx)(se.a,{})}),Object(a.jsx)(_,{name:"Github",link:"https://github.com/msTdeV89",icon:Object(a.jsx)(re.a,{})}),Object(a.jsx)(_,{name:"Linkedin",link:"https://www.linkedin.com/in/robert-kaczmarek-a230101a3/",icon:Object(a.jsx)(oe.a,{})})]})})})},ue=n(121),je=Object(l.b)(null,{handlePopUp:x})((function(e){var t=e.handlePopUp;return Object(a.jsxs)("div",{className:"postPage__panel",children:[Object(a.jsx)(Z.a,{variant:"contained",color:"primary",size:"medium",type:"submit",className:"btn",onClick:t,children:"Edit Content"}),Object(a.jsx)(Z.a,{variant:"contained",color:"primary",size:"medium",type:"submit",className:"btn",children:"Delete Post"})]})})),be=function(e){var t=e.themeIsLight,n=JSON.parse(sessionStorage.getItem("posts"))||[],s=Object(K.f)().location.pathname.substring(11),c=n.find((function(e){return e.id===s})),r=c.author,i=c.avatar,o=c.source,l=c.intro,u=c.date,j=c.image,b=c.tags,p=c.title,h=c.content;return Object(a.jsxs)("div",{className:"page postPage",children:[Object(a.jsx)(je,{}),Object(a.jsxs)("figure",{className:"postPage__image",children:[Object(a.jsx)("img",{src:"".concat(j),alt:j}),Object(a.jsxs)("figcaption",{children:["Image source:",Object(a.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",className:"postPage__source",children:o})]})]}),Object(a.jsxs)("div",{className:"postPage__title",children:[Object(a.jsx)("h3",{children:p}),Object(a.jsx)("p",{children:u})]}),Object(a.jsxs)("div",{className:"postPage__author",children:[Object(a.jsx)(ue.a,{alt:"user avatar",src:i}),Object(a.jsx)("p",{children:r})]}),Object(a.jsx)("div",{className:"postPage__intro",children:Object(a.jsx)("p",{children:l})}),Object(a.jsx)("div",{className:"postPage__content",children:Object(a.jsx)("p",{children:h})}),Object(a.jsx)("div",{className:"postPage__tags",children:b.map((function(e){return Object(a.jsx)("p",{className:"postPage__tag ".concat(t?"":"postPage__tag--isDark"),children:e},e)}))})]})},pe=function(){return Object(a.jsx)("footer",{children:Object(a.jsxs)("p",{children:["ms",Object(a.jsx)("span",{children:"T"})," 2020"]})})},he=n(72),me=n.n(he),de=n(118),Oe=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight,popupIsOpen:e.global.popupIsOpen}}),{handlePopUp:x})((function(e){var t=e.themeIsLight,n=e.handlePopUp,c=e.popupIsOpen,r=Object(s.useState)(""),i=Object(o.a)(r,2),l=i[0],u=i[1];return Object(a.jsx)("form",{className:"popUp ".concat(c?"popUp--isActive":""),children:Object(a.jsxs)("div",{className:"popUp__wrap",children:[Object(a.jsx)(de.a,{className:"popUp__close",onClick:n,children:Object(a.jsx)(me.a,{})}),Object(a.jsxs)("div",{className:"inputGroup",children:[Object(a.jsx)("label",{htmlFor:l,className:"label",children:"Edit"}),Object(a.jsx)("textarea",{required:!0,label:"Edit",value:l,rows:8,name:"edit",onChange:function(e){return function(e){u(e.targetValue)}(e)},className:"input ".concat(t?"":"input--isDark")})]}),Object(a.jsx)(Z.a,{variant:"contained",color:"primary",size:"medium",type:"submit",className:"btn popUp__close",children:"Close"})]})})}));var ge=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight,menuIsOpen:e.global.menuIsOpen,posts:e.posts.posts,user:e.user.user}}),{persistUser:function(e){return function(){var t=Object(G.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!sessionStorage.getItem("user")){t.next=3;break}return t.next=3,n({type:h,payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},handleGetPosts:function(){return function(){var e=Object(G.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.collection("posts").get().then((function(e){var n=[];e.forEach((function(e){var t=e.data(),a=t.content,s=t.title,c=t.tags,r=t.intro,i=t.date,o=t.author,l=t.image,u=t.source,j={id:e.id,content:a,title:s,tags:c.split(",").join("").split(" "),source:u,intro:r,image:l,avatar:Y,date:i,author:o};n.push(j)})),t({type:O,payload:n}),sessionStorage.setItem("posts",JSON.stringify(n))})).catch((function(e){console.log(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.themeIsLight,n=e.menuIsOpen,c=e.user,r=e.persistUser,i=e.handleGetPosts;return Object(s.useEffect)((function(){r(JSON.parse(sessionStorage.getItem("user"))),i()}),[c,r,i]),Object(a.jsxs)("div",{className:"app ".concat(t?"":"app--isDark"),children:[Object(a.jsx)(W,{}),Object(a.jsx)(Oe,{}),Object(a.jsxs)("div",{className:"app__container ".concat(n?"app__container--isOpen":""),children:[Object(a.jsxs)(K.c,{children:[Object(a.jsx)(K.a,{exact:!0,path:"/blog",component:X}),Object(a.jsx)(K.a,{path:"/blog/admin",component:function(){return Object(a.jsx)(ne,{themeIsLight:t,user:c})}}),Object(a.jsx)(K.a,{path:"/blog/contact",component:function(){return Object(a.jsx)(le,{themeIsLight:t})}}),Object(a.jsx)(K.a,{path:"/blog/post/:postId",component:function(){return Object(a.jsx)(be,{themeIsLight:t,user:c})}})]}),Object(a.jsx)(pe,{})]})]})})),fe=n(34),xe=n(73),ve=n(18),_e={menuIsOpen:!1,themeIsLight:!0,popupIsOpen:!1},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(ve.a)(Object(ve.a)({},e),{},{menuIsOpen:!e.menuIsOpen});case j:return Object(ve.a)(Object(ve.a)({},e),{},{menuIsOpen:!1});case b:return Object(ve.a)(Object(ve.a)({},e),{},{themeIsLight:!e.themeIsLight});case p:return Object(ve.a)(Object(ve.a)({},e),{},{popupIsOpen:!e.popupIsOpen});default:return e}},Ie=n(75),ye={posts:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(ve.a)(Object(ve.a)({},e),{},{posts:Object(Ie.a)(t.payload)});default:return e}},Le={user:null},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:case h:return Object(ve.a)(Object(ve.a)({},e),{},{user:t.payload});case m:return Object(ve.a)(Object(ve.a)({},e),{},{user:null});default:return e}},Pe=Object(fe.combineReducers)({global:Ne,posts:ke,user:we}),Se=n(74),De=[xe.a],Te=Object(fe.createStore)(Pe,Object(Se.composeWithDevTools)(fe.applyMiddleware.apply(void 0,De)));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(l.a,{store:Te,children:Object(a.jsx)(v.a,{children:Object(a.jsx)(ge,{})})})}),document.getElementById("root"))},87:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.5b5a5b3a.chunk.js.map