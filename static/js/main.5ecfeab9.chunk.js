(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{102:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n(1),c=n.n(s),r=n(14),i=n.n(r),o=(n(102),n(30)),l=n(19),u="HANDLE_MENU",j="CLOSE_MENU",b="HANDLE_THEME",h="LOGIN",m="LOGOUT",d="USER_STATUS_CHANGED",p="POSTS_GET",O=function(){return{type:u}},g=function(){return{type:j}},f=n(33),x=Object(l.b)(null,{handleMenu:O})((function(e){var t=e.name,n=e.link,s=e.icon,c=e.handleMenu,r=e.menu,i=e.func;return Object(a.jsx)("li",{className:"navitem",onClick:function(){r&&c(),i&&i()},children:r?Object(a.jsxs)(f.b,{to:n,children:[Object(a.jsx)("span",{children:t}),s||""]}):Object(a.jsxs)("a",{href:n,rel:"noreferrer",target:"_blank",children:[Object(a.jsx)("span",{children:t}),s||""]})})})),v=n(82),_=n.n(v),N=n(77),I=n.n(N),k=n(81),y=n.n(k),L=n(83),S=n.n(L),w=n(54);w.a.initializeApp({apiKey:"AIzaSyANzmHwEzB8cayASgFW4-LUTUHenBkpp74",authDomain:"blog-f3373.firebaseapp.com",projectId:"blog-f3373",storageBucket:"blog-f3373.appspot.com",messagingSenderId:"916037085361",appId:"1:916037085361:web:cbd94500c1d159c00c9a90",measurementId:"G-KDT1PZFFWX"}),w.a.analytics();var P=w.a.auth(),D=w.a.firestore(),T=(w.a,n(25)),C=n.n(T),E=n(34),M=Object(l.b)((function(e){return{menuIsOpen:e.global.menuIsOpen,themeIsLight:e.global.themeIsLight,user:e.user.user}}),{handleMenu:O,handleLogout:function(){return{type:m}}})((function(e){var t=e.menuIsOpen,n=e.themeIsLight,s=e.handleLogout,c=e.user;return Object(a.jsx)("nav",{className:"sidenav ".concat(t?" sidenav--isOpen":""," ").concat(n?"":"sidenav--isDark"),children:Object(a.jsxs)("ul",{className:"sidenav__list",children:[Object(a.jsx)(x,{name:"Portfolio",link:"https://mstdev89.github.io/portfolio/",icon:Object(a.jsx)(I.a,{})}),Object(a.jsx)(x,{name:"Contact",link:"/contact",icon:Object(a.jsx)(y.a,{}),menu:!0}),Object(a.jsx)(x,{name:"Admin",link:"/admin",icon:Object(a.jsx)(_.a,{}),menu:!0}),c?Object(a.jsx)(x,{name:"Logout",link:"/blog",icon:Object(a.jsx)(S.a,{}),menu:!0,func:function(){P.signOut().catch((function(e){return console.log(e.message)})),s(),sessionStorage.removeItem("user")}}):null]})})})),A=n.p+"static/media/logoWhite.eac2b019.svg",U=n.p+"static/media/logoBlack.2a7653ee.svg",B=n(152),G=n(155),z=n(118),J=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight,menuIsOpen:e.global.menuIsOpen}}),{handleMenu:O,handleTheme:function(){return{type:b}},handleCloseMenu:g})((function(e){var t=e.handleMenu,n=e.themeIsLight,c=e.handleTheme,r=e.menuIsOpen,i=e.handleCloseMenu,l=Object(s.useState)(!1),u=Object(o.a)(l,2),j=u[0],b=u[1],h=Object(z.a)({switchBase:{color:"#111111","&$checked":{color:"#ffffff"}}})(B.a);return Object(a.jsxs)("header",{className:"menu ".concat(r?"menu--isOpen":""," ").concat(n?"":"menu--isDark"),children:[Object(a.jsxs)("div",{className:"menu__container",children:[Object(a.jsx)("div",{className:"menu__left",children:Object(a.jsxs)(f.b,{to:"/blog",onClick:i,children:[Object(a.jsx)("img",{src:n?A:U,alt:"logo mst"}),Object(a.jsxs)("h3",{children:["ms",Object(a.jsx)("span",{children:"T"})]})]})}),Object(a.jsxs)("div",{className:"menu__right",children:[Object(a.jsx)(G.a,{label:"".concat(n?"Light":"Dark"),control:Object(a.jsx)(h,{checked:j,className:"menu__switch",onChange:function(e){c(),b(e.target.checked)}})}),Object(a.jsx)("div",{className:"menu__bars",onClick:t,children:["menu__barTop","menu__barMid","menu__barBot"].map((function(e){return Object(a.jsx)("div",{className:"menu__bar ".concat(e," ").concat(n?"":"menu__bar--isDark")},e)}))})]})]}),Object(a.jsx)(M,{})]})})),H=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight}}),null)((function(e){var t=e.themeIsLight;return Object(a.jsx)("div",{className:"section hero ".concat(t?"":"section--isDark"),children:Object(a.jsxs)("div",{className:"hero__container",children:[Object(a.jsx)("h1",{className:"hero__title",children:"Blog"}),Object(a.jsx)("p",{children:"Blog about my latest projects."})]})})})),W=n(18),F=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight,posts:e.posts.posts}}),{handleCloseMenu:g})((function(e){var t=e.id,n=e.image,s=e.title,c=e.date,r=e.author,i=e.avatar,o=e.intro,l=e.tags,u=e.themeIsLight,j=e.handleCloseMenu,b=Object(W.f)();return Object(a.jsxs)("div",{className:"post ".concat(u?"":"post--isDark"),onClick:function(){j(),b.push("/post/".concat(t))},children:[Object(a.jsx)("div",{className:"post__image",children:Object(a.jsx)("img",{src:"../assets/".concat(n,".jpg"),alt:"screenshot"})}),Object(a.jsx)("div",{className:"post__title",children:Object(a.jsx)("h4",{children:s})}),Object(a.jsxs)("div",{className:"post__author",children:[Object(a.jsx)("div",{className:"post__authorLeft",children:Object(a.jsx)("img",{src:"".concat(i),alt:"user avatar"})}),Object(a.jsxs)("div",{className:"post__authorRight",children:[Object(a.jsx)("p",{children:r}),Object(a.jsx)("p",{className:"post__date",children:c})]})]}),Object(a.jsx)("div",{className:"post__intro",children:Object(a.jsx)("p",{children:o})}),Object(a.jsx)("div",{className:"post__tags",children:l.map((function(e){return Object(a.jsx)("div",{className:"post__tag ".concat(u?"":"post__tag--isDark"),children:Object(a.jsx)("p",{children:e})},e)}))})]})})),R=function(e){var t=e.posts;return Object(a.jsx)("main",{className:"section posts",children:t.map((function(e){var t=e.id,n=e.image,s=e.title,c=e.date,r=e.author,i=e.avatar,o=e.intro,l=e.content,u=e.tags;return Object(a.jsx)(F,{id:t,image:n,title:s,date:c,author:r,avatar:i,intro:o,content:l,tags:u},t)}))})},K=Object(l.b)((function(e){return{posts:e.posts.posts}}),null)((function(e){var t=e.posts;return Object(a.jsxs)("div",{className:"homePage",children:[Object(a.jsx)(H,{}),Object(a.jsx)(R,{posts:t})]})})),V=n(151),X=n(150),Z=function(e){var t=e.label,n=e.func,s=e.name,c=e.value;return Object(a.jsx)(V.a,{onChange:n,name:s,value:c,variant:"outlined",color:"primary",label:t,type:s,className:"form__input"})},$=n.p+"static/media/avatar.c88d2a0a.svg",q=Object(l.b)(null,{handleAddPost:function(e){return{type:"POST_ADD",payload:e}}})((function(e){var t=e.handleAddPost,n=Object(s.useState)(""),c=Object(o.a)(n,2),r=c[0],i=c[1],l=Object(s.useState)(""),u=Object(o.a)(l,2),j=u[0],b=u[1],h=Object(s.useState)(""),m=Object(o.a)(h,2),d=m[0],p=m[1],O=Object(s.useState)(""),g=Object(o.a)(O,2),f=g[0],x=g[1],v=Object(s.useState)(""),_=Object(o.a)(v,2),N=_[0],I=_[1],k=function(e){var t=e.target,n=t.value,a=t.name;"img"===a&&i(n),"title"===a&&b(n),"intro"===a&&p(n),"tags"===a&&x(n),"content"===a&&I(n)};return Object(a.jsxs)("form",{className:"adminPage__form",onSubmit:function(){var e=Object(E.a)(C.a.mark((function e(n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={title:j,intro:d,tags:f,image:r,content:N,date:"22 January",author:"msT Lucius"},console.log(a),e.next=5,D.collection("posts").add(a);case 5:t(a),i(""),b(""),p(""),x(""),I("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(a.jsx)("h3",{children:"Panel"}),Object(a.jsx)(Z,{label:"Image",value:r,name:"img",func:function(e){return k(e)}}),Object(a.jsx)(Z,{label:"Title",value:j,name:"title",func:function(e){return k(e)}}),Object(a.jsx)(Z,{label:"Intro",value:d,name:"intro",func:function(e){return k(e)}}),Object(a.jsx)(Z,{label:"Tags",value:f,name:"tags",func:function(e){return k(e)}}),Object(a.jsx)(V.a,{multiline:!0,variant:"outlined",color:"primary",label:"Content",rows:5,className:"form__input",value:N,name:"content",onChange:function(e){return k(e)}}),Object(a.jsx)(X.a,{variant:"contained",color:"primary",size:"large",type:"submit",children:"Add Post"})]})})),Q=Object(l.b)(null,{handleLogin:function(e){return function(){var t=Object(E.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:h,payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.handleLogin,n=Object(s.useState)(""),c=Object(o.a)(n,2),r=c[0],i=c[1],l=Object(s.useState)(""),u=Object(o.a)(l,2),j=u[0],b=u[1],h=function(e){var t=e.target,n=t.value,a=t.name;"email"===a&&i(n),"password"===a&&b(n)};return Object(a.jsxs)("form",{className:"adminPage__form",onSubmit:function(){var e=Object(E.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!r||!j){e.next=4;break}return e.next=4,P.signInWithEmailAndPassword(r,j).then((function(e){var n=e.user.uid;i(""),b(""),sessionStorage.setItem("user",JSON.stringify(n)),t(n)})).catch((function(e){console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(a.jsx)("h3",{children:"Login"}),Object(a.jsx)(Z,{label:"Email",value:r,name:"email",func:function(e){return h(e)}}),Object(a.jsx)(Z,{label:"Password",value:j,name:"password",func:function(e){return h(e)}}),Object(a.jsx)(X.a,{variant:"contained",color:"primary",size:"large",type:"submit",children:"To Panel"})]})})),Y=function(e){var t=e.themeIsLight,n=e.user;return Object(a.jsx)("div",{className:"".concat(t?"page":"page page--isDark"," adminPage"),children:n?Object(a.jsx)(q,{}):Object(a.jsx)(Q,{})})},ee=n(84),te=n.n(ee),ne=n(85),ae=n.n(ne),se=n(86),ce=n.n(se),re=function(){return Object(a.jsx)("div",{className:"page contactPage",children:Object(a.jsx)("div",{className:"contactPage__socials",children:Object(a.jsxs)("ul",{className:"contactPage__list",children:[Object(a.jsx)(x,{name:"Facebook",link:"https://www.facebook.com/robert.lucius.355/",icon:Object(a.jsx)(te.a,{})}),Object(a.jsx)(x,{name:"Github",link:"https://github.com/msTdeV89",icon:Object(a.jsx)(ae.a,{})}),Object(a.jsx)(x,{name:"Linkedin",link:"https://www.linkedin.com/in/robert-kaczmarek-a230101a3/",icon:Object(a.jsx)(ce.a,{})})]})})})},ie=n(153),oe=function(e){var t=e.themeIsLight,n=JSON.parse(sessionStorage.getItem("posts"))||[],s=Object(W.f)().location.pathname.substring(6),c=n.find((function(e){return e.id===s})),r=c.author,i=c.avatar,o=c.intro,l=c.date,u=c.image,j=c.tags,b=c.title,h=c.content;return Object(a.jsxs)("div",{className:"page postPage",children:[" ",Object(a.jsx)("div",{className:"postPage__image",children:Object(a.jsx)("img",{src:"".concat(u),alt:"post screenshot"})}),Object(a.jsxs)("div",{className:"postPage__title",children:[Object(a.jsx)("h3",{children:b}),Object(a.jsx)("p",{children:l})]}),Object(a.jsxs)("div",{className:"postPage__author",children:[Object(a.jsx)(ie.a,{alt:"user avatar",src:i}),Object(a.jsx)("p",{children:r})]}),Object(a.jsx)("div",{className:"postPage__intro",children:Object(a.jsx)("p",{children:o})}),Object(a.jsx)("div",{className:"postPage__content",children:Object(a.jsx)("p",{children:h})}),Object(a.jsx)("div",{className:"postPage__tags",children:j.map((function(e){return Object(a.jsx)("p",{className:"postPage__tag ".concat(t?"":"postPage__tag--isDark"),children:e},e)}))})]})},le=function(){return Object(a.jsx)("footer",{children:Object(a.jsxs)("p",{children:["ms",Object(a.jsx)("span",{children:"T"})," 2020"]})})};var ue=Object(l.b)((function(e){return{themeIsLight:e.global.themeIsLight,menuIsOpen:e.global.menuIsOpen,posts:e.posts.posts,user:e.user.user}}),{persistUser:function(e){return function(){var t=Object(E.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!sessionStorage.getItem("user")){t.next=3;break}return t.next=3,n({type:h,payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},handleGetPosts:function(){return function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(){return(new Date).toUTCString()},e.next=3,D.collection("posts").get().then((function(e){var n=[];e.forEach((function(e){var t=e.data(),a=t.content,s=t.title,c=t.tags,r=t.intro,i=t.date,o=t.author,l=t.image,u={id:e.id,content:a,title:s,tags:c.split(",").join("").split(" "),intro:r,image:l,avatar:$,date:i,author:o};n.push(u)})),t({type:p,payload:n}),sessionStorage.setItem("posts",JSON.stringify(n))})).catch((function(e){console.log(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.themeIsLight,n=e.menuIsOpen,c=(e.posts,e.user),r=e.persistUser,i=e.handleGetPosts;return Object(s.useEffect)((function(){r(JSON.parse(sessionStorage.getItem("user"))),i()}),[c,r,i]),Object(a.jsxs)("div",{className:"app ".concat(t?"":"app--isDark"),children:[Object(a.jsx)(J,{}),Object(a.jsxs)("div",{className:"app__container ".concat(n?"app__container--isOpen":""),children:[Object(a.jsxs)(W.c,{children:[Object(a.jsx)(W.a,{exact:!0,path:"/blog",component:K}),Object(a.jsx)(W.a,{path:"/admin",component:function(){return Object(a.jsx)(Y,{themeIsLight:t,user:c})}}),Object(a.jsx)(W.a,{path:"/contact",component:function(){return Object(a.jsx)(re,{themeIsLight:t})}}),Object(a.jsx)(W.a,{path:"/post/:postId",component:function(){return Object(a.jsx)(oe,{themeIsLight:t})}})]}),Object(a.jsx)(le,{})]})]})})),je=n(35),be=n(87),he=n(24),me={menuIsOpen:!1,themeIsLight:!0},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(he.a)(Object(he.a)({},e),{},{menuIsOpen:!e.menuIsOpen});case j:return Object(he.a)(Object(he.a)({},e),{},{menuIsOpen:!1});case b:return Object(he.a)(Object(he.a)({},e),{},{themeIsLight:!e.themeIsLight});default:return e}},pe=n(89),Oe={posts:[]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(he.a)(Object(he.a)({},e),{},{posts:Object(pe.a)(t.payload)});default:return e}},fe={user:null},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:case h:return Object(he.a)(Object(he.a)({},e),{},{user:t.payload});case m:return Object(he.a)(Object(he.a)({},e),{},{user:null});default:return e}},ve=Object(je.combineReducers)({global:de,posts:ge,user:xe}),_e=n(88),Ne=[be.a],Ie=Object(je.createStore)(ve,Object(_e.composeWithDevTools)(je.applyMiddleware.apply(void 0,Ne)));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(l.a,{store:Ie,children:Object(a.jsx)(f.a,{children:Object(a.jsx)(ue,{})})})}),document.getElementById("root"))}},[[116,1,2]]]);
//# sourceMappingURL=main.5ecfeab9.chunk.js.map