(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{86:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n(2),c=n.n(s),r=n(33),i=n.n(r),o=(n(86),n(22)),u=n(7),l="HANDLE_MENU",j="CLOSE_MENU",b="HANDLE_THEME",p="HANDLE_POPUP",h="LOGIN",d="LOGOUT",m="USER_STATUS_CHANGED",O="POSTS_GET",g=function(){return{type:l}},f=function(){return{type:j}},x=function(){return{type:p}},v=n(26),_=Object(u.b)(null,{handleMenu:g})((function(e){var t=e.name,n=e.link,s=e.icon,c=e.handleMenu,r=e.menu,i=e.func;return Object(a.jsx)("li",{className:"navitem",onClick:function(){r&&c(),i&&i()},children:r?Object(a.jsxs)(v.b,{to:n,children:[Object(a.jsx)("span",{children:t}),s||""]}):Object(a.jsxs)("a",{href:n,rel:"noreferrer",target:"_blank",children:[Object(a.jsx)("span",{children:t}),s||""]})})})),I=n(66),N=n.n(I),y=n(61),L=n.n(y),k=n(65),w=n.n(k),P=n(67),S=n.n(P),D=n(39);D.a.initializeApp({apiKey:"AIzaSyANzmHwEzB8cayASgFW4-LUTUHenBkpp74",authDomain:"blog-f3373.firebaseapp.com",projectId:"blog-f3373",storageBucket:"blog-f3373.appspot.com",messagingSenderId:"916037085361",appId:"1:916037085361:web:cbd94500c1d159c00c9a90",measurementId:"G-KDT1PZFFWX"}),D.a.analytics();var T=D.a.auth(),E=D.a.firestore(),C=(D.a,n(23)),U=n.n(C),M=n(28),A=Object(u.b)((function(e){return{menuIsOpen:e.global.menuIsOpen,themeIsLight:e.global.themeIsLight,user:e.user.user}}),{handleMenu:g,handleLogout:function(){return{type:d}}})((function(e){var t=e.menuIsOpen,n=e.themeIsLight,s=e.handleLogout,c=e.user;return Object(a.jsx)("nav",{className:"sidenav ".concat(t?" sidenav--isOpen":""," ").concat(n?"":"sidenav--isDark"),children:Object(a.jsxs)("ul",{className:"sidenav__list",children:[Object(a.jsx)(_,{name:"Portfolio",link:"https://mstdev89.github.io/portfolio/",icon:Object(a.jsx)(L.a,{})}),Object(a.jsx)(_,{name:"Contact",link:"/contact",icon:Object(a.jsx)(w.a,{}),menu:!0}),Object(a.jsx)(_,{name:"Admin",link:"/admin",icon:Object(a.jsx)(N.a,{}),menu:!0}),c?Object(a.jsx)(_,{name:"Logout",link:"/blog",icon:Object(a.jsx)(S.a,{}),menu:!0,func:function(){T.signOut().catch((function(e){return console.log(e.message)})),s(),sessionStorage.removeItem("user")}}):null]})})})),G=n.p+"static/media/logoWhite.eac2b019.svg",z=n.p+"static/media/logoBlack.2a7653ee.svg",q=n(121),B=n(122),F=n(119),H=Object(u.b)((function(e){return{themeIsLight:e.global.themeIsLight,menuIsOpen:e.global.menuIsOpen}}),{handleMenu:g,handleTheme:function(){return{type:b}},handleCloseMenu:f})((function(e){var t=e.handleMenu,n=e.themeIsLight,c=e.handleTheme,r=e.menuIsOpen,i=e.handleCloseMenu,u=Object(s.useState)(!1),l=Object(o.a)(u,2),j=l[0],b=l[1],p=Object(F.a)({switchBase:{color:"#111111","&$checked":{color:"#ffffff"}}})(q.a);return Object(a.jsxs)("header",{className:"menu ".concat(r?"menu--isOpen":""," ").concat(n?"":"menu--isDark"),children:[Object(a.jsxs)("div",{className:"menu__container",children:[Object(a.jsx)("div",{className:"menu__left",children:Object(a.jsxs)(v.b,{to:"/blog",onClick:i,children:[Object(a.jsx)("img",{src:n?G:z,alt:"logo mst"}),Object(a.jsxs)("h3",{children:["ms",Object(a.jsx)("span",{children:"T"})]})]})}),Object(a.jsxs)("div",{className:"menu__right",children:[Object(a.jsx)(B.a,{label:"".concat(n?"Dark":"Light"),control:Object(a.jsx)(p,{checked:j,className:"menu__switch",onChange:function(e){c(),b(e.target.checked)}})}),Object(a.jsx)("div",{className:"menu__bars",onClick:t,children:["menu__barTop","menu__barMid","menu__barBot"].map((function(e){return Object(a.jsx)("div",{className:"menu__bar ".concat(e," ").concat(n?"":"menu__bar--isDark")},e)}))})]})]}),Object(a.jsx)(A,{})]})})),J=Object(u.b)((function(e){return{themeIsLight:e.global.themeIsLight}}),null)((function(e){var t=e.themeIsLight;return Object(a.jsx)("div",{className:"section hero ".concat(t?"":"section--isDark"),children:Object(a.jsxs)("div",{className:"hero__container",children:[Object(a.jsx)("h1",{className:"hero__title",children:"Blog"}),Object(a.jsx)("p",{children:"Blog about everything, and nothing."})]})})})),W=n(14),R=Object(u.b)((function(e){return{themeIsLight:e.global.themeIsLight,posts:e.posts.posts}}),{handleCloseMenu:f})((function(e){var t=e.id,n=e.image,s=e.title,c=e.date,r=e.author,i=e.source,o=e.avatar,u=e.intro,l=e.tags,j=e.themeIsLight,b=e.handleCloseMenu,p=Object(W.f)();return Object(a.jsxs)("div",{className:"post ".concat(j?"":"post--isDark"),onClick:function(){b(),p.push("/post/".concat(t))},children:[Object(a.jsxs)("div",{className:"post__image",children:[Object(a.jsx)("img",{src:n,alt:"screenshot"}),Object(a.jsx)("p",{className:"post__source",children:i})]}),Object(a.jsx)("div",{className:"post__title",children:Object(a.jsx)("h4",{children:s})}),Object(a.jsxs)("div",{className:"post__author",children:[Object(a.jsx)("div",{className:"post__authorLeft",children:Object(a.jsx)("img",{src:"".concat(o),alt:"user avatar"})}),Object(a.jsxs)("div",{className:"post__authorRight",children:[Object(a.jsx)("p",{children:r}),Object(a.jsx)("p",{className:"post__date",children:c})]})]}),Object(a.jsx)("div",{className:"post__intro",children:Object(a.jsx)("p",{children:u})}),Object(a.jsx)("div",{className:"post__tags",children:l.map((function(e){return Object(a.jsx)("div",{className:"post__tag ".concat(j?"":"post__tag--isDark"),children:Object(a.jsx)("p",{children:e})},e+Math.floor(9403284023*Math.random()))}))})]})})),K=Object(u.b)((function(e){return{themeIsLight:e.global.themeIsLight}}))((function(e){var t=e.posts;e.themeIsLight;return Object(a.jsx)("main",{className:"section posts",children:t.sort((function(e,t){var n=new Date(e.date);return new Date(t.date)-n})).map((function(e){var t=e.id,n=e.image,s=e.title,c=e.date,r=e.author,i=e.avatar,o=e.intro,u=e.content,l=e.tags;return Object(a.jsx)(R,{id:t,image:n,title:s,date:c,author:r,avatar:i,intro:o,content:u,tags:l},t)}))})})),V=Object(u.b)((function(e){return{posts:e.posts.posts}}),null)((function(e){var t=e.posts;return Object(a.jsxs)("div",{className:"homePage",children:[Object(a.jsx)(J,{}),Object(a.jsx)(K,{posts:t})]})})),$=n(118),X=Object(u.b)((function(e){return{themeIsLight:e.global.themeIsLight}}))((function(e){var t=e.label,n=e.func,s=e.name,c=e.value,r=e.type,i=e.themeIsLight,o=e.err;e.required;return Object(a.jsxs)("div",{className:"inputGroup",children:[Object(a.jsx)("label",{htmlFor:s,className:"label",children:s}),Object(a.jsx)("input",{required:!0,onChange:n,name:s,value:c,variant:"outlined",color:"primary",label:t,type:r,className:"input ".concat(i?"":"input--isDark")}),o?Object(a.jsx)("p",{className:"error",children:o}):""]})})),Z=n.p+"static/media/avatar.c88d2a0a.svg",Q=Object(u.b)((function(e){return{themeIsLight:e.global.themeIsLight}}),{handleAddPost:function(e){return{type:"POST_ADD",payload:e}}})((function(e){var t=e.handleAddPost,n=e.themeIsLight,c=Object(W.f)(),r=Object(s.useState)(""),i=Object(o.a)(r,2),u=i[0],l=i[1],j=Object(s.useState)(""),b=Object(o.a)(j,2),p=b[0],h=b[1],d=Object(s.useState)(""),m=Object(o.a)(d,2),O=m[0],g=m[1],f=Object(s.useState)(""),x=Object(o.a)(f,2),v=x[0],_=x[1],I=Object(s.useState)(""),N=Object(o.a)(I,2),y=N[0],L=N[1],k=Object(s.useState)(""),w=Object(o.a)(k,2),P=w[0],S=w[1],D=function(e){var t=e.target,n=t.value,a=t.name;"img"===a&&l(n),"source"===a&&h(n),"title"===a&&g(n),"intro"===a&&_(n),"tags"===a&&L(n),"content"===a&&S(n)},T=function(){var e=Object(M.a)(U.a.mark((function e(n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={title:O,intro:v,source:p,tags:y,image:u,content:P,date:(new Date).toLocaleString(),author:"msT"},e.next=4,E.collection("posts").add(a);case 4:t(a),l(""),h(""),g(""),_(""),L(""),S(""),c.push("/blog");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:"adminPage__form",onSubmit:function(e){return T(e)},children:[Object(a.jsx)("h3",{children:"Panel"}),Object(a.jsx)(X,{required:!0,label:"Image",value:u,name:"img",type:"text",func:function(e){return D(e)}}),Object(a.jsx)(X,{required:!0,label:"Image Source",value:p,name:"source",type:"text",func:function(e){return D(e)}}),Object(a.jsx)(X,{required:!0,label:"Title",value:O,name:"title",type:"text",func:function(e){return D(e)}}),Object(a.jsx)(X,{required:!0,label:"Intro",value:v,name:"intro",type:"text",func:function(e){return D(e)}}),Object(a.jsx)(X,{required:!0,label:"Tags",value:y,name:"tags",type:"text",func:function(e){return D(e)}}),Object(a.jsxs)("div",{className:"inputGroup",children:[Object(a.jsx)("label",{htmlFor:"message",className:"label",children:"Message"}),Object(a.jsx)("textarea",{required:!0,rows:8,value:P,name:"content",onChange:function(e){return D(e)},className:"input ".concat(n?"":"input--isDark")})]}),Object(a.jsx)($.a,{variant:"contained",color:"primary",size:"large",type:"submit",className:"btn",children:"Add Post"})]})})),Y=Object(u.b)(null,{handleLogin:function(e){return function(){var t=Object(M.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:h,payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.handleLogin,n=Object(s.useState)(""),c=Object(o.a)(n,2),r=c[0],i=c[1],u=Object(s.useState)(""),l=Object(o.a)(u,2),j=l[0],b=l[1],p=Object(s.useState)(""),h=Object(o.a)(p,2),d=h[0],m=h[1],O=Object(s.useState)(""),g=Object(o.a)(O,2),f=g[0],x=g[1],v=function(e){var t=e.target,n=t.value,a=t.name;"email"===a&&i(n),"password"===a&&b(n)};Object(s.useEffect)((function(){setTimeout((function(){return m("")}),3e3)}),[d]),Object(s.useEffect)((function(){setTimeout((function(){return x("")}),3e3)}),[f]);var _=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)};return Object(a.jsxs)("form",{className:"adminPage__form",onSubmit:function(){var e=Object(M.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log(_(r)),!r||!j){e.next=5;break}return e.next=5,T.signInWithEmailAndPassword(r,j).then((function(e){var n=e.user.uid;i(""),b(""),sessionStorage.setItem("user",JSON.stringify(n)),t(n)})).catch((function(e){"auth/invalid-email"===e.code||"auth/user-not-found"===e.code?m(e.message):"auth/wrong-password"===e.code&&x(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(a.jsx)("h3",{children:"Login"}),Object(a.jsx)(X,{label:"Email",value:r,name:"email",type:"text",err:d,func:function(e){return v(e)}}),Object(a.jsx)(X,{label:"Password",value:j,name:"password",type:"password",err:f,func:function(e){return v(e)}}),Object(a.jsx)($.a,{variant:"contained",color:"primary",size:"large",type:"submit",children:"To The Panel"})]})})),ee=function(e){var t=e.themeIsLight,n=e.user;return Object(a.jsx)("div",{className:"".concat(t?"page":"page page--isDark"," adminPage"),children:n?Object(a.jsx)(Q,{}):Object(a.jsx)(Y,{})})},te=n(68),ne=n.n(te),ae=n(69),se=n.n(ae),ce=n(70),re=n.n(ce),ie=function(){return Object(a.jsx)("div",{className:"page contactPage",children:Object(a.jsx)("div",{className:"contactPage__socials",children:Object(a.jsxs)("ul",{className:"contactPage__list",children:[Object(a.jsx)(_,{name:"Facebook",link:"https://www.facebook.com/robert.lucius.355/",icon:Object(a.jsx)(ne.a,{})}),Object(a.jsx)(_,{name:"Github",link:"https://github.com/msTdeV89",icon:Object(a.jsx)(se.a,{})}),Object(a.jsx)(_,{name:"Linkedin",link:"https://www.linkedin.com/in/robert-kaczmarek-a230101a3/",icon:Object(a.jsx)(re.a,{})})]})})})},oe=n(120),ue=Object(u.b)(null,{handlePopUp:x})((function(e){var t=e.handlePopUp;return Object(a.jsxs)("div",{className:"postPage__panel",children:[Object(a.jsx)($.a,{variant:"contained",color:"primary",size:"medium",type:"submit",className:"btn",onClick:t,children:"Edit Content"}),Object(a.jsx)($.a,{variant:"contained",color:"primary",size:"medium",type:"submit",className:"btn",children:"Delete Post"})]})})),le=function(e){var t=e.themeIsLight,n=JSON.parse(sessionStorage.getItem("posts"))||[],s=Object(W.f)().location.pathname.substring(6),c=n.find((function(e){return e.id===s})),r=c.author,i=c.avatar,o=c.source,u=c.intro,l=c.date,j=c.image,b=c.tags,p=c.title,h=c.content;return Object(a.jsxs)("div",{className:"page postPage",children:[Object(a.jsx)(ue,{}),Object(a.jsxs)("div",{className:"postPage__image",children:[Object(a.jsx)("img",{src:"".concat(j),alt:j}),Object(a.jsxs)("p",{children:["Image source:",Object(a.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",className:"postPage__source",children:o}),"."]})]}),Object(a.jsxs)("div",{className:"postPage__title",children:[Object(a.jsx)("h3",{children:p}),Object(a.jsx)("p",{children:l})]}),Object(a.jsxs)("div",{className:"postPage__author",children:[Object(a.jsx)(oe.a,{alt:"user avatar",src:i}),Object(a.jsx)("p",{children:r})]}),Object(a.jsx)("div",{className:"postPage__intro",children:Object(a.jsx)("p",{children:u})}),Object(a.jsx)("div",{className:"postPage__content",children:Object(a.jsx)("p",{children:h})}),Object(a.jsx)("div",{className:"postPage__tags",children:b.map((function(e){return Object(a.jsx)("p",{className:"postPage__tag ".concat(t?"":"postPage__tag--isDark"),children:e},e)}))})]})},je=function(){return Object(a.jsx)("footer",{children:Object(a.jsxs)("p",{children:["ms",Object(a.jsx)("span",{children:"T"})," 2020"]})})},be=n(71),pe=n.n(be),he=n(117),de=Object(u.b)((function(e){return{themeIsLight:e.global.themeIsLight,popupIsOpen:e.global.popupIsOpen}}),{handlePopUp:x})((function(e){var t=e.themeIsLight,n=e.handlePopUp,c=e.popupIsOpen,r=Object(s.useState)(""),i=Object(o.a)(r,2),u=i[0],l=i[1];return Object(a.jsx)("form",{className:"popUp ".concat(c?"popUp--isActive":""),children:Object(a.jsxs)("div",{className:"popUp__wrap",children:[Object(a.jsx)(he.a,{className:"popUp__close",onClick:n,children:Object(a.jsx)(pe.a,{})}),Object(a.jsxs)("div",{className:"inputGroup",children:[Object(a.jsx)("label",{htmlFor:u,className:"label",children:"Edit"}),Object(a.jsx)("textarea",{required:!0,label:"Edit",value:u,rows:8,name:"edit",onChange:function(e){return function(e){l(e.targetValue)}(e)},className:"input ".concat(t?"":"input--isDark")})]}),Object(a.jsxs)($.a,{variant:"contained",color:"primary",size:"medium",type:"submit",className:"btn popUp__close",children:["Close"," "]})]})})}));var me=Object(u.b)((function(e){return{themeIsLight:e.global.themeIsLight,menuIsOpen:e.global.menuIsOpen,posts:e.posts.posts,user:e.user.user}}),{persistUser:function(e){return function(){var t=Object(M.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!sessionStorage.getItem("user")){t.next=3;break}return t.next=3,n({type:h,payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},handleGetPosts:function(){return function(){var e=Object(M.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.collection("posts").get().then((function(e){var n=[];e.forEach((function(e){var t=e.data(),a=t.content,s=t.title,c=t.tags,r=t.intro,i=t.date,o=t.author,u=t.image,l=t.source,j={id:e.id,content:a,title:s,tags:c.split(",").join("").split(" "),source:l,intro:r,image:u,avatar:Z,date:i,author:o};n.push(j)})),t({type:O,payload:n}),sessionStorage.setItem("posts",JSON.stringify(n))})).catch((function(e){console.log(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.themeIsLight,n=e.menuIsOpen,c=e.user,r=e.persistUser,i=e.handleGetPosts;return Object(s.useEffect)((function(){r(JSON.parse(sessionStorage.getItem("user"))),i()}),[c,r,i]),Object(a.jsxs)("div",{className:"app ".concat(t?"":"app--isDark"),children:[Object(a.jsx)(H,{}),Object(a.jsx)(de,{}),Object(a.jsxs)("div",{className:"app__container ".concat(n?"app__container--isOpen":""),children:[Object(a.jsxs)(W.c,{children:[Object(a.jsx)(W.a,{exact:!0,path:"/blog",component:V}),Object(a.jsx)(W.a,{path:"/admin",component:function(){return Object(a.jsx)(ee,{themeIsLight:t,user:c})}}),Object(a.jsx)(W.a,{path:"/contact",component:function(){return Object(a.jsx)(ie,{themeIsLight:t})}}),Object(a.jsx)(W.a,{path:"/post/:postId",component:function(){return Object(a.jsx)(le,{themeIsLight:t,user:c})}})]}),Object(a.jsx)(je,{})]})]})})),Oe=n(34),ge=n(72),fe=n(18),xe={menuIsOpen:!1,themeIsLight:!0,popupIsOpen:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(fe.a)(Object(fe.a)({},e),{},{menuIsOpen:!e.menuIsOpen});case j:return Object(fe.a)(Object(fe.a)({},e),{},{menuIsOpen:!1});case b:return Object(fe.a)(Object(fe.a)({},e),{},{themeIsLight:!e.themeIsLight});case p:return Object(fe.a)(Object(fe.a)({},e),{},{popupIsOpen:!e.popupIsOpen});default:return e}},_e=n(74),Ie={posts:[]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(fe.a)(Object(fe.a)({},e),{},{posts:Object(_e.a)(t.payload)});default:return e}},ye={user:null},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case h:return Object(fe.a)(Object(fe.a)({},e),{},{user:t.payload});case d:return Object(fe.a)(Object(fe.a)({},e),{},{user:null});default:return e}},ke=Object(Oe.combineReducers)({global:ve,posts:Ne,user:Le}),we=n(73),Pe=[ge.a],Se=Object(Oe.createStore)(ke,Object(we.composeWithDevTools)(Oe.applyMiddleware.apply(void 0,Pe)));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(u.a,{store:Se,children:Object(a.jsx)(v.a,{children:Object(a.jsx)(me,{})})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.a4769b6d.chunk.js.map